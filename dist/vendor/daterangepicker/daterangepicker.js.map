{"version":3,"sources":["../../../src/vendor/daterangepicker/daterangepicker.js"],"names":["root","factory","define","amd","moment","jquery","fn","daterangepicker","module","exports","jQuery","window","undefined","require","$","DateRangePicker","element","options","cb","parentEl","startDate","startOf","endDate","endOf","minDate","maxDate","dateLimit","autoApply","singleDatePicker","showDropdowns","showWeekNumbers","showISOWeekNumbers","showCustomRangeLabel","timePicker","timePicker24Hour","timePickerIncrement","timePickerSeconds","linkedCalendars","autoUpdateInput","alwaysShowCalendars","ranges","opens","hasClass","drops","buttonClasses","applyClass","cancelClass","locale","direction","format","localeData","longDateFormat","separator","applyLabel","cancelLabel","weekLabel","customRangeLabel","daysOfWeek","weekdaysMin","monthNames","monthsShort","firstDay","firstDayOfWeek","callback","isShowing","leftCalendar","rightCalendar","extend","data","template","length","container","appendTo","slice","elem","document","createElement","innerHTML","rangeHtml","value","addClass","isBefore","clone","isAfter","join","isInvalidDate","isCustomDate","iterator","push","shift","start","end","range","is","val","split","setStartDate","setEndDate","add","timepicker","list","find","prepend","hide","show","prependTo","parent","html","on","proxy","clickPrev","clickNext","clickDate","hoverDate","updateFormInputs","monthOrYearChanged","timeChanged","showCalendars","formInputsFocused","formInputsBlurred","formInputsChanged","clickApply","clickCancel","clickRange","hoverRange","elementChanged","keydown","toggle","trigger","prototype","constructor","minute","Math","round","floor","updateElement","updateMonthsInView","previousRightTime","updateView","renderTimePicker","attr","removeAttr","removeClass","updateCalendars","month","date","year","subtract","hour","second","parseInt","ampm","renderCalendar","calculateChosenLabel","side","calendar","daysInMonth","lastDay","lastMonth","lastYear","daysInLastMonth","dayOfWeek","day","i","startDay","curDate","col","row","selected","arrow","left","right","dateHtml","currentMonth","currentYear","maxYear","minYear","inMinYear","inMaxYear","monthHtml","m","yearHtml","y","each","index","maxLimit","week","isoWeek","classes","isSame","Date","isoWeekday","isCustom","Array","apply","cname","disabled","replace","timeSelector","i_in_24","time","padded","am_html","pm_html","move","parentOffset","top","containerTop","parentRightEdge","width","offset","scrollTop","scrollLeft","clientWidth","outerHeight","css","outerWidth","e","_outsideClickProxy","outsideClick","oldStartDate","oldEndDate","chosenLabel","off","target","type","closest","hideCalendars","label","getAttribute","dates","cal","parents","title","substr","el","dt","stopPropagation","customRange","isLeft","leftOrRight","isRight","isValid","dateString","keyCode","remove","removeData"],"mappings":"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","file":"daterangepicker.js","sourcesContent":["/**\n* @version: 2.1.25\n* @author: Dan Grossman http://www.dangrossman.info/\n* @copyright: Copyright (c) 2012-2017 Dan Grossman. All rights reserved.\n* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php\n* @website: http://www.daterangepicker.com/\n*/\n// Follow the UMD template https://github.com/umdjs/umd/blob/master/templates/returnExportsGlobal.js\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Make globaly available as well\n        define(['moment', 'jquery'], function (moment, jquery) {\n            if (!jquery.fn) jquery.fn = {}; // webpack server rendering\n            return (root.daterangepicker = factory(moment, jquery));\n        });\n    } else if (typeof module === 'object' && module.exports) {\n        // Node / Browserify\n        //isomorphic issue\n        var jQuery = (typeof window != 'undefined') ? window.jQuery : undefined;\n        if (!jQuery) {\n            jQuery = require('jquery');\n            if (!jQuery.fn) jQuery.fn = {};\n        }\n        var moment = (typeof window != 'undefined' && typeof window.moment != 'undefined') ? window.moment : require('moment');\n        module.exports = factory(moment, jQuery);\n    } else {\n        // Browser globals\n        root.daterangepicker = factory(root.moment, root.jQuery);\n    }\n}(this, function(moment, $) {\n    var DateRangePicker = function(element, options, cb) {\n\n        //default settings for options\n        this.parentEl = 'body';\n        this.element = $(element);\n        this.startDate = moment().startOf('day');\n        this.endDate = moment().endOf('day');\n        this.minDate = false;\n        this.maxDate = false;\n        this.dateLimit = false;\n        this.autoApply = false;\n        this.singleDatePicker = false;\n        this.showDropdowns = false;\n        this.showWeekNumbers = false;\n        this.showISOWeekNumbers = false;\n        this.showCustomRangeLabel = true;\n        this.timePicker = false;\n        this.timePicker24Hour = false;\n        this.timePickerIncrement = 1;\n        this.timePickerSeconds = false;\n        this.linkedCalendars = true;\n        this.autoUpdateInput = true;\n        this.alwaysShowCalendars = false;\n        this.ranges = {};\n\n        this.opens = 'right';\n        if (this.element.hasClass('pull-right'))\n            this.opens = 'left';\n\n        this.drops = 'down';\n        if (this.element.hasClass('dropup'))\n            this.drops = 'up';\n\n        this.buttonClasses = 'btn btn-sm';\n        this.applyClass = 'btn-success';\n        this.cancelClass = 'btn-default';\n\n        this.locale = {\n            direction: 'ltr',\n            format: moment.localeData().longDateFormat('L'),\n            separator: ' - ',\n            applyLabel: 'Apply',\n            cancelLabel: 'Cancel',\n            weekLabel: 'W',\n            customRangeLabel: 'Custom Range',\n            daysOfWeek: moment.weekdaysMin(),\n            monthNames: moment.monthsShort(),\n            firstDay: moment.localeData().firstDayOfWeek()\n        };\n\n        this.callback = function() { };\n\n        //some state information\n        this.isShowing = false;\n        this.leftCalendar = {};\n        this.rightCalendar = {};\n\n        //custom options from user\n        if (typeof options !== 'object' || options === null)\n            options = {};\n\n        //allow setting options with data attributes\n        //data-api options will be overwritten with custom javascript options\n        options = $.extend(this.element.data(), options);\n\n        //html template for the picker UI\n        if (typeof options.template !== 'string' && !(options.template instanceof $))\n            options.template = '<div class=\"daterangepicker dropdown-menu\">' +\n                '<div class=\"calendar left\">' +\n                    '<div class=\"daterangepicker_input\">' +\n                      '<input class=\"input-mini form-control\" type=\"text\" name=\"daterangepicker_start\" value=\"\" />' +\n                      '<i class=\"fa fa-calendar glyphicon glyphicon-calendar\"></i>' +\n                      '<div class=\"calendar-time\">' +\n                        '<div></div>' +\n                        '<i class=\"fa fa-clock-o glyphicon glyphicon-time\"></i>' +\n                      '</div>' +\n                    '</div>' +\n                    '<div class=\"calendar-table\"></div>' +\n                '</div>' +\n                '<div class=\"calendar right\">' +\n                    '<div class=\"daterangepicker_input\">' +\n                      '<input class=\"input-mini form-control\" type=\"text\" name=\"daterangepicker_end\" value=\"\" />' +\n                      '<i class=\"fa fa-calendar glyphicon glyphicon-calendar\"></i>' +\n                      '<div class=\"calendar-time\">' +\n                        '<div></div>' +\n                        '<i class=\"fa fa-clock-o glyphicon glyphicon-time\"></i>' +\n                      '</div>' +\n                    '</div>' +\n                    '<div class=\"calendar-table\"></div>' +\n                '</div>' +\n                '<div class=\"ranges\">' +\n                    '<div class=\"range_inputs\">' +\n                        '<button class=\"applyBtn\" disabled=\"disabled\" type=\"button\"></button> ' +\n                        '<button class=\"cancelBtn\" type=\"button\"></button>' +\n                    '</div>' +\n                '</div>' +\n            '</div>';\n\n        this.parentEl = (options.parentEl && $(options.parentEl).length) ? $(options.parentEl) : $(this.parentEl);\n        this.container = $(options.template).appendTo(this.parentEl);\n\n        //\n        // handle all the possible options overriding defaults\n        //\n\n        if (typeof options.locale === 'object') {\n\n            if (typeof options.locale.direction === 'string')\n                this.locale.direction = options.locale.direction;\n\n            if (typeof options.locale.format === 'string')\n                this.locale.format = options.locale.format;\n\n            if (typeof options.locale.separator === 'string')\n                this.locale.separator = options.locale.separator;\n\n            if (typeof options.locale.daysOfWeek === 'object')\n                this.locale.daysOfWeek = options.locale.daysOfWeek.slice();\n\n            if (typeof options.locale.monthNames === 'object')\n              this.locale.monthNames = options.locale.monthNames.slice();\n\n            if (typeof options.locale.firstDay === 'number')\n              this.locale.firstDay = options.locale.firstDay;\n\n            if (typeof options.locale.applyLabel === 'string')\n              this.locale.applyLabel = options.locale.applyLabel;\n\n            if (typeof options.locale.cancelLabel === 'string')\n              this.locale.cancelLabel = options.locale.cancelLabel;\n\n            if (typeof options.locale.weekLabel === 'string')\n              this.locale.weekLabel = options.locale.weekLabel;\n\n            if (typeof options.locale.customRangeLabel === 'string'){\n                //Support unicode chars in the custom range name.\n                var elem = document.createElement('textarea');\n                elem.innerHTML = options.locale.customRangeLabel;\n                var rangeHtml = elem.value;\n                this.locale.customRangeLabel = rangeHtml;\n            }\n        }\n        this.container.addClass(this.locale.direction);\n\n        if (typeof options.startDate === 'string')\n            this.startDate = moment(options.startDate, this.locale.format);\n\n        if (typeof options.endDate === 'string')\n            this.endDate = moment(options.endDate, this.locale.format);\n\n        if (typeof options.minDate === 'string')\n            this.minDate = moment(options.minDate, this.locale.format);\n\n        if (typeof options.maxDate === 'string')\n            this.maxDate = moment(options.maxDate, this.locale.format);\n\n        if (typeof options.startDate === 'object')\n            this.startDate = moment(options.startDate);\n\n        if (typeof options.endDate === 'object')\n            this.endDate = moment(options.endDate);\n\n        if (typeof options.minDate === 'object')\n            this.minDate = moment(options.minDate);\n\n        if (typeof options.maxDate === 'object')\n            this.maxDate = moment(options.maxDate);\n\n        // sanity check for bad options\n        if (this.minDate && this.startDate.isBefore(this.minDate))\n            this.startDate = this.minDate.clone();\n\n        // sanity check for bad options\n        if (this.maxDate && this.endDate.isAfter(this.maxDate))\n            this.endDate = this.maxDate.clone();\n\n        if (typeof options.applyClass === 'string')\n            this.applyClass = options.applyClass;\n\n        if (typeof options.cancelClass === 'string')\n            this.cancelClass = options.cancelClass;\n\n        if (typeof options.dateLimit === 'object')\n            this.dateLimit = options.dateLimit;\n\n        if (typeof options.opens === 'string')\n            this.opens = options.opens;\n\n        if (typeof options.drops === 'string')\n            this.drops = options.drops;\n\n        if (typeof options.showWeekNumbers === 'boolean')\n            this.showWeekNumbers = options.showWeekNumbers;\n\n        if (typeof options.showISOWeekNumbers === 'boolean')\n            this.showISOWeekNumbers = options.showISOWeekNumbers;\n\n        if (typeof options.buttonClasses === 'string')\n            this.buttonClasses = options.buttonClasses;\n\n        if (typeof options.buttonClasses === 'object')\n            this.buttonClasses = options.buttonClasses.join(' ');\n\n        if (typeof options.showDropdowns === 'boolean')\n            this.showDropdowns = options.showDropdowns;\n\n        if (typeof options.showCustomRangeLabel === 'boolean')\n            this.showCustomRangeLabel = options.showCustomRangeLabel;\n\n        if (typeof options.singleDatePicker === 'boolean') {\n            this.singleDatePicker = options.singleDatePicker;\n            if (this.singleDatePicker)\n                this.endDate = this.startDate.clone();\n        }\n\n        if (typeof options.timePicker === 'boolean')\n            this.timePicker = options.timePicker;\n\n        if (typeof options.timePickerSeconds === 'boolean')\n            this.timePickerSeconds = options.timePickerSeconds;\n\n        if (typeof options.timePickerIncrement === 'number')\n            this.timePickerIncrement = options.timePickerIncrement;\n\n        if (typeof options.timePicker24Hour === 'boolean')\n            this.timePicker24Hour = options.timePicker24Hour;\n\n        if (typeof options.autoApply === 'boolean')\n            this.autoApply = options.autoApply;\n\n        if (typeof options.autoUpdateInput === 'boolean')\n            this.autoUpdateInput = options.autoUpdateInput;\n\n        if (typeof options.linkedCalendars === 'boolean')\n            this.linkedCalendars = options.linkedCalendars;\n\n        if (typeof options.isInvalidDate === 'function')\n            this.isInvalidDate = options.isInvalidDate;\n\n        if (typeof options.isCustomDate === 'function')\n            this.isCustomDate = options.isCustomDate;\n\n        if (typeof options.alwaysShowCalendars === 'boolean')\n            this.alwaysShowCalendars = options.alwaysShowCalendars;\n\n        // update day names order to firstDay\n        if (this.locale.firstDay != 0) {\n            var iterator = this.locale.firstDay;\n            while (iterator > 0) {\n                this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift());\n                iterator--;\n            }\n        }\n\n        var start, end, range;\n\n        //if no start/end dates set, check if an input element contains initial values\n        if (typeof options.startDate === 'undefined' && typeof options.endDate === 'undefined') {\n            if ($(this.element).is('input[type=text]')) {\n                var val = $(this.element).val(),\n                    split = val.split(this.locale.separator);\n\n                start = end = null;\n\n                if (split.length == 2) {\n                    start = moment(split[0], this.locale.format);\n                    end = moment(split[1], this.locale.format);\n                } else if (this.singleDatePicker && val !== \"\") {\n                    start = moment(val, this.locale.format);\n                    end = moment(val, this.locale.format);\n                }\n                if (start !== null && end !== null) {\n                    this.setStartDate(start);\n                    this.setEndDate(end);\n                }\n            }\n        }\n\n        if (typeof options.ranges === 'object') {\n            for (range in options.ranges) {\n\n                if (typeof options.ranges[range][0] === 'string')\n                    start = moment(options.ranges[range][0], this.locale.format);\n                else\n                    start = moment(options.ranges[range][0]);\n\n                if (typeof options.ranges[range][1] === 'string')\n                    end = moment(options.ranges[range][1], this.locale.format);\n                else\n                    end = moment(options.ranges[range][1]);\n\n                // If the start or end date exceed those allowed by the minDate or dateLimit\n                // options, shorten the range to the allowable period.\n                if (this.minDate && start.isBefore(this.minDate))\n                    start = this.minDate.clone();\n\n                var maxDate = this.maxDate;\n                if (this.dateLimit && maxDate && start.clone().add(this.dateLimit).isAfter(maxDate))\n                    maxDate = start.clone().add(this.dateLimit);\n                if (maxDate && end.isAfter(maxDate))\n                    end = maxDate.clone();\n\n                // If the end of the range is before the minimum or the start of the range is\n                // after the maximum, don't display this range option at all.\n                if ((this.minDate && end.isBefore(this.minDate, this.timepicker ? 'minute' : 'day')) \n                  || (maxDate && start.isAfter(maxDate, this.timepicker ? 'minute' : 'day')))\n                    continue;\n\n                //Support unicode chars in the range names.\n                var elem = document.createElement('textarea');\n                elem.innerHTML = range;\n                var rangeHtml = elem.value;\n\n                this.ranges[rangeHtml] = [start, end];\n            }\n\n            var list = '<ul>';\n            for (range in this.ranges) {\n                list += '<li data-range-key=\"' + range + '\">' + range + '</li>';\n            }\n            if (this.showCustomRangeLabel) {\n                list += '<li data-range-key=\"' + this.locale.customRangeLabel + '\">' + this.locale.customRangeLabel + '</li>';\n            }\n            list += '</ul>';\n            this.container.find('.ranges').prepend(list);\n        }\n\n        if (typeof cb === 'function') {\n            this.callback = cb;\n        }\n\n        if (!this.timePicker) {\n            this.startDate = this.startDate.startOf('day');\n            this.endDate = this.endDate.endOf('day');\n            this.container.find('.calendar-time').hide();\n        }\n\n        //can't be used together for now\n        if (this.timePicker && this.autoApply)\n            this.autoApply = false;\n\n        if (this.autoApply && typeof options.ranges !== 'object') {\n            this.container.find('.ranges').hide();\n        } else if (this.autoApply) {\n            this.container.find('.applyBtn, .cancelBtn').addClass('hide');\n        }\n\n        if (this.singleDatePicker) {\n            this.container.addClass('single');\n            this.container.find('.calendar.left').addClass('single');\n            this.container.find('.calendar.left').show();\n            this.container.find('.calendar.right').hide();\n            this.container.find('.daterangepicker_input input, .daterangepicker_input > i').hide();\n            if (this.timePicker) {\n                this.container.find('.ranges ul').hide();\n            } else {\n                this.container.find('.ranges').hide();\n            }\n        }\n\n        if ((typeof options.ranges === 'undefined' && !this.singleDatePicker) || this.alwaysShowCalendars) {\n            this.container.addClass('show-calendar');\n        }\n\n        this.container.addClass('opens' + this.opens);\n\n        //swap the position of the predefined ranges if opens right\n        if (typeof options.ranges !== 'undefined' && this.opens == 'right') {\n            this.container.find('.ranges').prependTo( this.container.find('.calendar.left').parent() );\n        }\n\n        //apply CSS classes and labels to buttons\n        this.container.find('.applyBtn, .cancelBtn').addClass(this.buttonClasses);\n        if (this.applyClass.length)\n            this.container.find('.applyBtn').addClass(this.applyClass);\n        if (this.cancelClass.length)\n            this.container.find('.cancelBtn').addClass(this.cancelClass);\n        this.container.find('.applyBtn').html(this.locale.applyLabel);\n        this.container.find('.cancelBtn').html(this.locale.cancelLabel);\n\n        //\n        // event listeners\n        //\n\n        this.container.find('.calendar')\n            .on('click.daterangepicker', '.prev', $.proxy(this.clickPrev, this))\n            .on('click.daterangepicker', '.next', $.proxy(this.clickNext, this))\n            .on('mousedown.daterangepicker', 'td.available', $.proxy(this.clickDate, this))\n            .on('mouseenter.daterangepicker', 'td.available', $.proxy(this.hoverDate, this))\n            .on('mouseleave.daterangepicker', 'td.available', $.proxy(this.updateFormInputs, this))\n            .on('change.daterangepicker', 'select.yearselect', $.proxy(this.monthOrYearChanged, this))\n            .on('change.daterangepicker', 'select.monthselect', $.proxy(this.monthOrYearChanged, this))\n            .on('change.daterangepicker', 'select.hourselect,select.minuteselect,select.secondselect,select.ampmselect', $.proxy(this.timeChanged, this))\n            .on('click.daterangepicker', '.daterangepicker_input input', $.proxy(this.showCalendars, this))\n            .on('focus.daterangepicker', '.daterangepicker_input input', $.proxy(this.formInputsFocused, this))\n            .on('blur.daterangepicker', '.daterangepicker_input input', $.proxy(this.formInputsBlurred, this))\n            .on('change.daterangepicker', '.daterangepicker_input input', $.proxy(this.formInputsChanged, this));\n\n        this.container.find('.ranges')\n            .on('click.daterangepicker', 'button.applyBtn', $.proxy(this.clickApply, this))\n            .on('click.daterangepicker', 'button.cancelBtn', $.proxy(this.clickCancel, this))\n            .on('click.daterangepicker', 'li', $.proxy(this.clickRange, this))\n            .on('mouseenter.daterangepicker', 'li', $.proxy(this.hoverRange, this))\n            .on('mouseleave.daterangepicker', 'li', $.proxy(this.updateFormInputs, this));\n\n        if (this.element.is('input') || this.element.is('button')) {\n            this.element.on({\n                'click.daterangepicker': $.proxy(this.show, this),\n                'focus.daterangepicker': $.proxy(this.show, this),\n                'keyup.daterangepicker': $.proxy(this.elementChanged, this),\n                'keydown.daterangepicker': $.proxy(this.keydown, this)\n            });\n        } else {\n            this.element.on('click.daterangepicker', $.proxy(this.toggle, this));\n        }\n\n        //\n        // if attached to a text input, set the initial value\n        //\n\n        if (this.element.is('input') && !this.singleDatePicker && this.autoUpdateInput) {\n            this.element.val(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format));\n            this.element.trigger('change');\n        } else if (this.element.is('input') && this.autoUpdateInput) {\n            this.element.val(this.startDate.format(this.locale.format));\n            this.element.trigger('change');\n        }\n\n    };\n\n    DateRangePicker.prototype = {\n\n        constructor: DateRangePicker,\n\n        setStartDate: function(startDate) {\n            if (typeof startDate === 'string')\n                this.startDate = moment(startDate, this.locale.format);\n\n            if (typeof startDate === 'object')\n                this.startDate = moment(startDate);\n\n            if (!this.timePicker)\n                this.startDate = this.startDate.startOf('day');\n\n            if (this.timePicker && this.timePickerIncrement)\n                this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n\n            if (this.minDate && this.startDate.isBefore(this.minDate)) {\n                this.startDate = this.minDate.clone();\n                if (this.timePicker && this.timePickerIncrement)\n                    this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n            }\n\n            if (this.maxDate && this.startDate.isAfter(this.maxDate)) {\n                this.startDate = this.maxDate.clone();\n                if (this.timePicker && this.timePickerIncrement)\n                    this.startDate.minute(Math.floor(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n            }\n\n            if (!this.isShowing)\n                this.updateElement();\n\n            this.updateMonthsInView();\n        },\n\n        setEndDate: function(endDate) {\n            if (typeof endDate === 'string')\n                this.endDate = moment(endDate, this.locale.format);\n\n            if (typeof endDate === 'object')\n                this.endDate = moment(endDate);\n\n            if (!this.timePicker)\n                this.endDate = this.endDate.endOf('day');\n\n            if (this.timePicker && this.timePickerIncrement)\n                this.endDate.minute(Math.round(this.endDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);\n\n            if (this.endDate.isBefore(this.startDate))\n                this.endDate = this.startDate.clone();\n\n            if (this.maxDate && this.endDate.isAfter(this.maxDate))\n                this.endDate = this.maxDate.clone();\n\n            if (this.dateLimit && this.startDate.clone().add(this.dateLimit).isBefore(this.endDate))\n                this.endDate = this.startDate.clone().add(this.dateLimit);\n\n            this.previousRightTime = this.endDate.clone();\n\n            if (!this.isShowing)\n                this.updateElement();\n\n            this.updateMonthsInView();\n        },\n\n        isInvalidDate: function() {\n            return false;\n        },\n\n        isCustomDate: function() {\n            return false;\n        },\n\n        updateView: function() {\n            if (this.timePicker) {\n                this.renderTimePicker('left');\n                this.renderTimePicker('right');\n                if (!this.endDate) {\n                    this.container.find('.right .calendar-time select').attr('disabled', 'disabled').addClass('disabled');\n                } else {\n                    this.container.find('.right .calendar-time select').removeAttr('disabled').removeClass('disabled');\n                }\n            }\n            if (this.endDate) {\n                this.container.find('input[name=\"daterangepicker_end\"]').removeClass('active');\n                this.container.find('input[name=\"daterangepicker_start\"]').addClass('active');\n            } else {\n                this.container.find('input[name=\"daterangepicker_end\"]').addClass('active');\n                this.container.find('input[name=\"daterangepicker_start\"]').removeClass('active');\n            }\n            this.updateMonthsInView();\n            this.updateCalendars();\n            this.updateFormInputs();\n        },\n\n        updateMonthsInView: function() {\n            if (this.endDate) {\n\n                //if both dates are visible already, do nothing\n                if (!this.singleDatePicker && this.leftCalendar.month && this.rightCalendar.month &&\n                    (this.startDate.format('YYYY-MM') == this.leftCalendar.month.format('YYYY-MM') || this.startDate.format('YYYY-MM') == this.rightCalendar.month.format('YYYY-MM'))\n                    &&\n                    (this.endDate.format('YYYY-MM') == this.leftCalendar.month.format('YYYY-MM') || this.endDate.format('YYYY-MM') == this.rightCalendar.month.format('YYYY-MM'))\n                    ) {\n                    return;\n                }\n\n                this.leftCalendar.month = this.startDate.clone().date(2);\n                if (!this.linkedCalendars && (this.endDate.month() != this.startDate.month() || this.endDate.year() != this.startDate.year())) {\n                    this.rightCalendar.month = this.endDate.clone().date(2);\n                } else {\n                    this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\n                }\n\n            } else {\n                if (this.leftCalendar.month.format('YYYY-MM') != this.startDate.format('YYYY-MM') && this.rightCalendar.month.format('YYYY-MM') != this.startDate.format('YYYY-MM')) {\n                    this.leftCalendar.month = this.startDate.clone().date(2);\n                    this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');\n                }\n            }\n            if (this.maxDate && this.linkedCalendars && !this.singleDatePicker && this.rightCalendar.month > this.maxDate) {\n              this.rightCalendar.month = this.maxDate.clone().date(2);\n              this.leftCalendar.month = this.maxDate.clone().date(2).subtract(1, 'month');\n            }\n        },\n\n        updateCalendars: function() {\n\n            if (this.timePicker) {\n                var hour, minute, second;\n                if (this.endDate) {\n                    hour = parseInt(this.container.find('.left .hourselect').val(), 10);\n                    minute = parseInt(this.container.find('.left .minuteselect').val(), 10);\n                    second = this.timePickerSeconds ? parseInt(this.container.find('.left .secondselect').val(), 10) : 0;\n                    if (!this.timePicker24Hour) {\n                        var ampm = this.container.find('.left .ampmselect').val();\n                        if (ampm === 'PM' && hour < 12)\n                            hour += 12;\n                        if (ampm === 'AM' && hour === 12)\n                            hour = 0;\n                    }\n                } else {\n                    hour = parseInt(this.container.find('.right .hourselect').val(), 10);\n                    minute = parseInt(this.container.find('.right .minuteselect').val(), 10);\n                    second = this.timePickerSeconds ? parseInt(this.container.find('.right .secondselect').val(), 10) : 0;\n                    if (!this.timePicker24Hour) {\n                        var ampm = this.container.find('.right .ampmselect').val();\n                        if (ampm === 'PM' && hour < 12)\n                            hour += 12;\n                        if (ampm === 'AM' && hour === 12)\n                            hour = 0;\n                    }\n                }\n                this.leftCalendar.month.hour(hour).minute(minute).second(second);\n                this.rightCalendar.month.hour(hour).minute(minute).second(second);\n            }\n\n            this.renderCalendar('left');\n            this.renderCalendar('right');\n\n            //highlight any predefined range matching the current start and end dates\n            this.container.find('.ranges li').removeClass('active');\n            if (this.endDate == null) return;\n\n            this.calculateChosenLabel();\n        },\n\n        renderCalendar: function(side) {\n\n            //\n            // Build the matrix of dates that will populate the calendar\n            //\n\n            var calendar = side == 'left' ? this.leftCalendar : this.rightCalendar;\n            var month = calendar.month.month();\n            var year = calendar.month.year();\n            var hour = calendar.month.hour();\n            var minute = calendar.month.minute();\n            var second = calendar.month.second();\n            var daysInMonth = moment([year, month]).daysInMonth();\n            var firstDay = moment([year, month, 1]);\n            var lastDay = moment([year, month, daysInMonth]);\n            var lastMonth = moment(firstDay).subtract(1, 'month').month();\n            var lastYear = moment(firstDay).subtract(1, 'month').year();\n            var daysInLastMonth = moment([lastYear, lastMonth]).daysInMonth();\n            var dayOfWeek = firstDay.day();\n\n            //initialize a 6 rows x 7 columns array for the calendar\n            var calendar = [];\n            calendar.firstDay = firstDay;\n            calendar.lastDay = lastDay;\n\n            for (var i = 0; i < 6; i++) {\n                calendar[i] = [];\n            }\n\n            //populate the calendar with date objects\n            var startDay = daysInLastMonth - dayOfWeek + this.locale.firstDay + 1;\n            if (startDay > daysInLastMonth)\n                startDay -= 7;\n\n            if (dayOfWeek == this.locale.firstDay)\n                startDay = daysInLastMonth - 6;\n\n            var curDate = moment([lastYear, lastMonth, startDay, 12, minute, second]);\n\n            var col, row;\n            for (var i = 0, col = 0, row = 0; i < 42; i++, col++, curDate = moment(curDate).add(24, 'hour')) {\n                if (i > 0 && col % 7 === 0) {\n                    col = 0;\n                    row++;\n                }\n                calendar[row][col] = curDate.clone().hour(hour).minute(minute).second(second);\n                curDate.hour(12);\n\n                if (this.minDate && calendar[row][col].format('YYYY-MM-DD') == this.minDate.format('YYYY-MM-DD') && calendar[row][col].isBefore(this.minDate) && side == 'left') {\n                    calendar[row][col] = this.minDate.clone();\n                }\n\n                if (this.maxDate && calendar[row][col].format('YYYY-MM-DD') == this.maxDate.format('YYYY-MM-DD') && calendar[row][col].isAfter(this.maxDate) && side == 'right') {\n                    calendar[row][col] = this.maxDate.clone();\n                }\n\n            }\n\n            //make the calendar object available to hoverDate/clickDate\n            if (side == 'left') {\n                this.leftCalendar.calendar = calendar;\n            } else {\n                this.rightCalendar.calendar = calendar;\n            }\n\n            //\n            // Display the calendar\n            //\n\n            var minDate = side == 'left' ? this.minDate : this.startDate;\n            var maxDate = this.maxDate;\n            var selected = side == 'left' ? this.startDate : this.endDate;\n            var arrow = this.locale.direction == 'ltr' ? {left: 'chevron-left', right: 'chevron-right'} : {left: 'chevron-right', right: 'chevron-left'};\n\n            var html = '<table class=\"table-condensed\">';\n            html += '<thead>';\n            html += '<tr>';\n\n            // add empty cell for week number\n            if (this.showWeekNumbers || this.showISOWeekNumbers)\n                html += '<th></th>';\n\n            if ((!minDate || minDate.isBefore(calendar.firstDay)) && (!this.linkedCalendars || side == 'left')) {\n                html += '<th class=\"prev available\"><i class=\"fa fa-' + arrow.left + ' glyphicon glyphicon-' + arrow.left + '\"></i></th>';\n            } else {\n                html += '<th></th>';\n            }\n\n            var dateHtml = this.locale.monthNames[calendar[1][1].month()] + calendar[1][1].format(\" YYYY\");\n\n            if (this.showDropdowns) {\n                var currentMonth = calendar[1][1].month();\n                var currentYear = calendar[1][1].year();\n                var maxYear = (maxDate && maxDate.year()) || (currentYear + 5);\n                var minYear = (minDate && minDate.year()) || (currentYear - 50);\n                var inMinYear = currentYear == minYear;\n                var inMaxYear = currentYear == maxYear;\n\n                var monthHtml = '<select class=\"monthselect\">';\n                for (var m = 0; m < 12; m++) {\n                    if ((!inMinYear || m >= minDate.month()) && (!inMaxYear || m <= maxDate.month())) {\n                        monthHtml += \"<option value='\" + m + \"'\" +\n                            (m === currentMonth ? \" selected='selected'\" : \"\") +\n                            \">\" + this.locale.monthNames[m] + \"</option>\";\n                    } else {\n                        monthHtml += \"<option value='\" + m + \"'\" +\n                            (m === currentMonth ? \" selected='selected'\" : \"\") +\n                            \" disabled='disabled'>\" + this.locale.monthNames[m] + \"</option>\";\n                    }\n                }\n                monthHtml += \"</select>\";\n\n                var yearHtml = '<select class=\"yearselect\">';\n                for (var y = minYear; y <= maxYear; y++) {\n                    yearHtml += '<option value=\"' + y + '\"' +\n                        (y === currentYear ? ' selected=\"selected\"' : '') +\n                        '>' + y + '</option>';\n                }\n                yearHtml += '</select>';\n\n                dateHtml = monthHtml + yearHtml;\n            }\n\n            html += '<th colspan=\"5\" class=\"month\">' + dateHtml + '</th>';\n            if ((!maxDate || maxDate.isAfter(calendar.lastDay)) && (!this.linkedCalendars || side == 'right' || this.singleDatePicker)) {\n                html += '<th class=\"next available\"><i class=\"fa fa-' + arrow.right + ' glyphicon glyphicon-' + arrow.right + '\"></i></th>';\n            } else {\n                html += '<th></th>';\n            }\n\n            html += '</tr>';\n            html += '<tr>';\n\n            // add week number label\n            if (this.showWeekNumbers || this.showISOWeekNumbers)\n                html += '<th class=\"week\">' + this.locale.weekLabel + '</th>';\n\n            $.each(this.locale.daysOfWeek, function(index, dayOfWeek) {\n                html += '<th>' + dayOfWeek + '</th>';\n            });\n\n            html += '</tr>';\n            html += '</thead>';\n            html += '<tbody>';\n\n            //adjust maxDate to reflect the dateLimit setting in order to\n            //grey out end dates beyond the dateLimit\n            if (this.endDate == null && this.dateLimit) {\n                var maxLimit = this.startDate.clone().add(this.dateLimit).endOf('day');\n                if (!maxDate || maxLimit.isBefore(maxDate)) {\n                    maxDate = maxLimit;\n                }\n            }\n\n            for (var row = 0; row < 6; row++) {\n                html += '<tr>';\n\n                // add week number\n                if (this.showWeekNumbers)\n                    html += '<td class=\"week\">' + calendar[row][0].week() + '</td>';\n                else if (this.showISOWeekNumbers)\n                    html += '<td class=\"week\">' + calendar[row][0].isoWeek() + '</td>';\n\n                for (var col = 0; col < 7; col++) {\n\n                    var classes = [];\n\n                    //highlight today's date\n                    if (calendar[row][col].isSame(new Date(), \"day\"))\n                        classes.push('today');\n\n                    //highlight weekends\n                    if (calendar[row][col].isoWeekday() > 5)\n                        classes.push('weekend');\n\n                    //grey out the dates in other months displayed at beginning and end of this calendar\n                    if (calendar[row][col].month() != calendar[1][1].month())\n                        classes.push('off');\n\n                    //don't allow selection of dates before the minimum date\n                    if (this.minDate && calendar[row][col].isBefore(this.minDate, 'day'))\n                        classes.push('off', 'disabled');\n\n                    //don't allow selection of dates after the maximum date\n                    if (maxDate && calendar[row][col].isAfter(maxDate, 'day'))\n                        classes.push('off', 'disabled');\n\n                    //don't allow selection of date if a custom function decides it's invalid\n                    if (this.isInvalidDate(calendar[row][col]))\n                        classes.push('off', 'disabled');\n\n                    //highlight the currently selected start date\n                    if (calendar[row][col].format('YYYY-MM-DD') == this.startDate.format('YYYY-MM-DD'))\n                        classes.push('active', 'start-date');\n\n                    //highlight the currently selected end date\n                    if (this.endDate != null && calendar[row][col].format('YYYY-MM-DD') == this.endDate.format('YYYY-MM-DD'))\n                        classes.push('active', 'end-date');\n\n                    //highlight dates in-between the selected dates\n                    if (this.endDate != null && calendar[row][col] > this.startDate && calendar[row][col] < this.endDate)\n                        classes.push('in-range');\n\n                    //apply custom classes for this date\n                    var isCustom = this.isCustomDate(calendar[row][col]);\n                    if (isCustom !== false) {\n                        if (typeof isCustom === 'string')\n                            classes.push(isCustom);\n                        else\n                            Array.prototype.push.apply(classes, isCustom);\n                    }\n\n                    var cname = '', disabled = false;\n                    for (var i = 0; i < classes.length; i++) {\n                        cname += classes[i] + ' ';\n                        if (classes[i] == 'disabled')\n                            disabled = true;\n                    }\n                    if (!disabled)\n                        cname += 'available';\n\n                    html += '<td class=\"' + cname.replace(/^\\s+|\\s+$/g, '') + '\" data-title=\"' + 'r' + row + 'c' + col + '\">' + calendar[row][col].date() + '</td>';\n\n                }\n                html += '</tr>';\n            }\n\n            html += '</tbody>';\n            html += '</table>';\n\n            this.container.find('.calendar.' + side + ' .calendar-table').html(html);\n\n        },\n\n        renderTimePicker: function(side) {\n\n            // Don't bother updating the time picker if it's currently disabled\n            // because an end date hasn't been clicked yet\n            if (side == 'right' && !this.endDate) return;\n\n            var html, selected, minDate, maxDate = this.maxDate;\n\n            if (this.dateLimit && (!this.maxDate || this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)))\n                maxDate = this.startDate.clone().add(this.dateLimit);\n\n            if (side == 'left') {\n                selected = this.startDate.clone();\n                minDate = this.minDate;\n            } else if (side == 'right') {\n                selected = this.endDate.clone();\n                minDate = this.startDate;\n\n                //Preserve the time already selected\n                var timeSelector = this.container.find('.calendar.right .calendar-time div');\n                if (timeSelector.html() != '') {\n\n                    selected.hour(timeSelector.find('.hourselect option:selected').val() || selected.hour());\n                    selected.minute(timeSelector.find('.minuteselect option:selected').val() || selected.minute());\n                    selected.second(timeSelector.find('.secondselect option:selected').val() || selected.second());\n\n                    if (!this.timePicker24Hour) {\n                        var ampm = timeSelector.find('.ampmselect option:selected').val();\n                        if (ampm === 'PM' && selected.hour() < 12)\n                            selected.hour(selected.hour() + 12);\n                        if (ampm === 'AM' && selected.hour() === 12)\n                            selected.hour(0);\n                    }\n\n                }\n\n                if (selected.isBefore(this.startDate))\n                    selected = this.startDate.clone();\n\n                if (maxDate && selected.isAfter(maxDate))\n                    selected = maxDate.clone();\n\n            }\n\n            //\n            // hours\n            //\n\n            html = '<select class=\"hourselect\">';\n\n            var start = this.timePicker24Hour ? 0 : 1;\n            var end = this.timePicker24Hour ? 23 : 12;\n\n            for (var i = start; i <= end; i++) {\n                var i_in_24 = i;\n                if (!this.timePicker24Hour)\n                    i_in_24 = selected.hour() >= 12 ? (i == 12 ? 12 : i + 12) : (i == 12 ? 0 : i);\n\n                var time = selected.clone().hour(i_in_24);\n                var disabled = false;\n                if (minDate && time.minute(59).isBefore(minDate))\n                    disabled = true;\n                if (maxDate && time.minute(0).isAfter(maxDate))\n                    disabled = true;\n\n                if (i_in_24 == selected.hour() && !disabled) {\n                    html += '<option value=\"' + i + '\" selected=\"selected\">' + i + '</option>';\n                } else if (disabled) {\n                    html += '<option value=\"' + i + '\" disabled=\"disabled\" class=\"disabled\">' + i + '</option>';\n                } else {\n                    html += '<option value=\"' + i + '\">' + i + '</option>';\n                }\n            }\n\n            html += '</select> ';\n\n            //\n            // minutes\n            //\n\n            html += ': <select class=\"minuteselect\">';\n\n            for (var i = 0; i < 60; i += this.timePickerIncrement) {\n                var padded = i < 10 ? '0' + i : i;\n                var time = selected.clone().minute(i);\n\n                var disabled = false;\n                if (minDate && time.second(59).isBefore(minDate))\n                    disabled = true;\n                if (maxDate && time.second(0).isAfter(maxDate))\n                    disabled = true;\n\n                if (selected.minute() == i && !disabled) {\n                    html += '<option value=\"' + i + '\" selected=\"selected\">' + padded + '</option>';\n                } else if (disabled) {\n                    html += '<option value=\"' + i + '\" disabled=\"disabled\" class=\"disabled\">' + padded + '</option>';\n                } else {\n                    html += '<option value=\"' + i + '\">' + padded + '</option>';\n                }\n            }\n\n            html += '</select> ';\n\n            //\n            // seconds\n            //\n\n            if (this.timePickerSeconds) {\n                html += ': <select class=\"secondselect\">';\n\n                for (var i = 0; i < 60; i++) {\n                    var padded = i < 10 ? '0' + i : i;\n                    var time = selected.clone().second(i);\n\n                    var disabled = false;\n                    if (minDate && time.isBefore(minDate))\n                        disabled = true;\n                    if (maxDate && time.isAfter(maxDate))\n                        disabled = true;\n\n                    if (selected.second() == i && !disabled) {\n                        html += '<option value=\"' + i + '\" selected=\"selected\">' + padded + '</option>';\n                    } else if (disabled) {\n                        html += '<option value=\"' + i + '\" disabled=\"disabled\" class=\"disabled\">' + padded + '</option>';\n                    } else {\n                        html += '<option value=\"' + i + '\">' + padded + '</option>';\n                    }\n                }\n\n                html += '</select> ';\n            }\n\n            //\n            // AM/PM\n            //\n\n            if (!this.timePicker24Hour) {\n                html += '<select class=\"ampmselect\">';\n\n                var am_html = '';\n                var pm_html = '';\n\n                if (minDate && selected.clone().hour(12).minute(0).second(0).isBefore(minDate))\n                    am_html = ' disabled=\"disabled\" class=\"disabled\"';\n\n                if (maxDate && selected.clone().hour(0).minute(0).second(0).isAfter(maxDate))\n                    pm_html = ' disabled=\"disabled\" class=\"disabled\"';\n\n                if (selected.hour() >= 12) {\n                    html += '<option value=\"AM\"' + am_html + '>AM</option><option value=\"PM\" selected=\"selected\"' + pm_html + '>PM</option>';\n                } else {\n                    html += '<option value=\"AM\" selected=\"selected\"' + am_html + '>AM</option><option value=\"PM\"' + pm_html + '>PM</option>';\n                }\n\n                html += '</select>';\n            }\n\n            this.container.find('.calendar.' + side + ' .calendar-time div').html(html);\n\n        },\n\n        updateFormInputs: function() {\n\n            //ignore mouse movements while an above-calendar text input has focus\n            if (this.container.find('input[name=daterangepicker_start]').is(\":focus\") || this.container.find('input[name=daterangepicker_end]').is(\":focus\"))\n                return;\n\n            this.container.find('input[name=daterangepicker_start]').val(this.startDate.format(this.locale.format));\n            if (this.endDate)\n                this.container.find('input[name=daterangepicker_end]').val(this.endDate.format(this.locale.format));\n\n            if (this.singleDatePicker || (this.endDate && (this.startDate.isBefore(this.endDate) || this.startDate.isSame(this.endDate)))) {\n                this.container.find('button.applyBtn').removeAttr('disabled');\n            } else {\n                this.container.find('button.applyBtn').attr('disabled', 'disabled');\n            }\n\n        },\n\n        move: function() {\n            var parentOffset = { top: 0, left: 0 },\n                containerTop;\n            var parentRightEdge = $(window).width();\n            if (!this.parentEl.is('body')) {\n                parentOffset = {\n                    top: this.parentEl.offset().top - this.parentEl.scrollTop(),\n                    left: this.parentEl.offset().left - this.parentEl.scrollLeft()\n                };\n                parentRightEdge = this.parentEl[0].clientWidth + this.parentEl.offset().left;\n            }\n\n            if (this.drops == 'up')\n                containerTop = this.element.offset().top - this.container.outerHeight() - parentOffset.top;\n            else\n                containerTop = this.element.offset().top + this.element.outerHeight() - parentOffset.top;\n            this.container[this.drops == 'up' ? 'addClass' : 'removeClass']('dropup');\n\n            if (this.opens == 'left') {\n                this.container.css({\n                    top: containerTop,\n                    right: parentRightEdge - this.element.offset().left - this.element.outerWidth(),\n                    left: 'auto'\n                });\n                if (this.container.offset().left < 0) {\n                    this.container.css({\n                        right: 'auto',\n                        left: 9\n                    });\n                }\n            } else if (this.opens == 'center') {\n                this.container.css({\n                    top: containerTop,\n                    left: this.element.offset().left - parentOffset.left + this.element.outerWidth() / 2\n                            - this.container.outerWidth() / 2,\n                    right: 'auto'\n                });\n                if (this.container.offset().left < 0) {\n                    this.container.css({\n                        right: 'auto',\n                        left: 9\n                    });\n                }\n            } else {\n                this.container.css({\n                    top: containerTop,\n                    left: this.element.offset().left - parentOffset.left,\n                    right: 'auto'\n                });\n                if (this.container.offset().left + this.container.outerWidth() > $(window).width()) {\n                    this.container.css({\n                        left: 'auto',\n                        right: 0\n                    });\n                }\n            }\n        },\n\n        show: function(e) {\n            if (this.isShowing) return;\n\n            // Create a click proxy that is private to this instance of datepicker, for unbinding\n            this._outsideClickProxy = $.proxy(function(e) { this.outsideClick(e); }, this);\n\n            // Bind global datepicker mousedown for hiding and\n            $(document)\n              .on('mousedown.daterangepicker', this._outsideClickProxy)\n              // also support mobile devices\n              .on('touchend.daterangepicker', this._outsideClickProxy)\n              // also explicitly play nice with Bootstrap dropdowns, which stopPropagation when clicking them\n              .on('click.daterangepicker', '[data-toggle=dropdown]', this._outsideClickProxy)\n              // and also close when focus changes to outside the picker (eg. tabbing between controls)\n              .on('focusin.daterangepicker', this._outsideClickProxy);\n\n            // Reposition the picker if the window is resized while it's open\n            $(window).on('resize.daterangepicker', $.proxy(function(e) { this.move(e); }, this));\n\n            this.oldStartDate = this.startDate.clone();\n            this.oldEndDate = this.endDate.clone();\n            this.previousRightTime = this.endDate.clone();\n\n            this.updateView();\n            this.container.show();\n            this.move();\n            this.element.trigger('show.daterangepicker', this);\n            this.isShowing = true;\n        },\n\n        hide: function(e) {\n            if (!this.isShowing) return;\n\n            //incomplete date selection, revert to last values\n            if (!this.endDate) {\n                this.startDate = this.oldStartDate.clone();\n                this.endDate = this.oldEndDate.clone();\n            }\n\n            //if a new date range was selected, invoke the user callback function\n            if (!this.startDate.isSame(this.oldStartDate) || !this.endDate.isSame(this.oldEndDate))\n                this.callback(this.startDate, this.endDate, this.chosenLabel);\n\n            //if picker is attached to a text input, update it\n            this.updateElement();\n\n            $(document).off('.daterangepicker');\n            $(window).off('.daterangepicker');\n            this.container.hide();\n            this.element.trigger('hide.daterangepicker', this);\n            this.isShowing = false;\n        },\n\n        toggle: function(e) {\n            if (this.isShowing) {\n                this.hide();\n            } else {\n                this.show();\n            }\n        },\n\n        outsideClick: function(e) {\n            var target = $(e.target);\n            // if the page is clicked anywhere except within the daterangerpicker/button\n            // itself then call this.hide()\n            if (\n                // ie modal dialog fix\n                e.type == \"focusin\" ||\n                target.closest(this.element).length ||\n                target.closest(this.container).length ||\n                target.closest('.calendar-table').length\n                ) return;\n            this.hide();\n            this.element.trigger('outsideClick.daterangepicker', this);\n        },\n\n        showCalendars: function() {\n            this.container.addClass('show-calendar');\n            this.move();\n            this.element.trigger('showCalendar.daterangepicker', this);\n        },\n\n        hideCalendars: function() {\n            this.container.removeClass('show-calendar');\n            this.element.trigger('hideCalendar.daterangepicker', this);\n        },\n\n        hoverRange: function(e) {\n\n            //ignore mouse movements while an above-calendar text input has focus\n            if (this.container.find('input[name=daterangepicker_start]').is(\":focus\") || this.container.find('input[name=daterangepicker_end]').is(\":focus\"))\n                return;\n\n            var label = e.target.getAttribute('data-range-key');\n\n            if (label == this.locale.customRangeLabel) {\n                this.updateView();\n            } else {\n                var dates = this.ranges[label];\n                this.container.find('input[name=daterangepicker_start]').val(dates[0].format(this.locale.format));\n                this.container.find('input[name=daterangepicker_end]').val(dates[1].format(this.locale.format));\n            }\n\n        },\n\n        clickRange: function(e) {\n            var label = e.target.getAttribute('data-range-key');\n            this.chosenLabel = label;\n            if (label == this.locale.customRangeLabel) {\n                this.showCalendars();\n            } else {\n                var dates = this.ranges[label];\n                this.startDate = dates[0];\n                this.endDate = dates[1];\n\n                if (!this.timePicker) {\n                    this.startDate.startOf('day');\n                    this.endDate.endOf('day');\n                }\n\n                if (!this.alwaysShowCalendars)\n                    this.hideCalendars();\n                this.clickApply();\n            }\n        },\n\n        clickPrev: function(e) {\n            var cal = $(e.target).parents('.calendar');\n            if (cal.hasClass('left')) {\n                this.leftCalendar.month.subtract(1, 'month');\n                if (this.linkedCalendars)\n                    this.rightCalendar.month.subtract(1, 'month');\n            } else {\n                this.rightCalendar.month.subtract(1, 'month');\n            }\n            this.updateCalendars();\n        },\n\n        clickNext: function(e) {\n            var cal = $(e.target).parents('.calendar');\n            if (cal.hasClass('left')) {\n                this.leftCalendar.month.add(1, 'month');\n            } else {\n                this.rightCalendar.month.add(1, 'month');\n                if (this.linkedCalendars)\n                    this.leftCalendar.month.add(1, 'month');\n            }\n            this.updateCalendars();\n        },\n\n        hoverDate: function(e) {\n\n            //ignore mouse movements while an above-calendar text input has focus\n            //if (this.container.find('input[name=daterangepicker_start]').is(\":focus\") || this.container.find('input[name=daterangepicker_end]').is(\":focus\"))\n            //    return;\n\n            //ignore dates that can't be selected\n            if (!$(e.target).hasClass('available')) return;\n\n            //have the text inputs above calendars reflect the date being hovered over\n            var title = $(e.target).attr('data-title');\n            var row = title.substr(1, 1);\n            var col = title.substr(3, 1);\n            var cal = $(e.target).parents('.calendar');\n            var date = cal.hasClass('left') ? this.leftCalendar.calendar[row][col] : this.rightCalendar.calendar[row][col];\n\n            if (this.endDate && !this.container.find('input[name=daterangepicker_start]').is(\":focus\")) {\n                this.container.find('input[name=daterangepicker_start]').val(date.format(this.locale.format));\n            } else if (!this.endDate && !this.container.find('input[name=daterangepicker_end]').is(\":focus\")) {\n                this.container.find('input[name=daterangepicker_end]').val(date.format(this.locale.format));\n            }\n\n            //highlight the dates between the start date and the date being hovered as a potential end date\n            var leftCalendar = this.leftCalendar;\n            var rightCalendar = this.rightCalendar;\n            var startDate = this.startDate;\n            if (!this.endDate) {\n                this.container.find('.calendar tbody td').each(function(index, el) {\n\n                    //skip week numbers, only look at dates\n                    if ($(el).hasClass('week')) return;\n\n                    var title = $(el).attr('data-title');\n                    var row = title.substr(1, 1);\n                    var col = title.substr(3, 1);\n                    var cal = $(el).parents('.calendar');\n                    var dt = cal.hasClass('left') ? leftCalendar.calendar[row][col] : rightCalendar.calendar[row][col];\n\n                    if ((dt.isAfter(startDate) && dt.isBefore(date)) || dt.isSame(date, 'day')) {\n                        $(el).addClass('in-range');\n                    } else {\n                        $(el).removeClass('in-range');\n                    }\n\n                });\n            }\n\n        },\n\n        clickDate: function(e) {\n\n            if (!$(e.target).hasClass('available')) return;\n\n            var title = $(e.target).attr('data-title');\n            var row = title.substr(1, 1);\n            var col = title.substr(3, 1);\n            var cal = $(e.target).parents('.calendar');\n            var date = cal.hasClass('left') ? this.leftCalendar.calendar[row][col] : this.rightCalendar.calendar[row][col];\n\n            //\n            // this function needs to do a few things:\n            // * alternate between selecting a start and end date for the range,\n            // * if the time picker is enabled, apply the hour/minute/second from the select boxes to the clicked date\n            // * if autoapply is enabled, and an end date was chosen, apply the selection\n            // * if single date picker mode, and time picker isn't enabled, apply the selection immediately\n            // * if one of the inputs above the calendars was focused, cancel that manual input\n            //\n\n            if (this.endDate || date.isBefore(this.startDate, 'day')) { //picking start\n                if (this.timePicker) {\n                    var hour = parseInt(this.container.find('.left .hourselect').val(), 10);\n                    if (!this.timePicker24Hour) {\n                        var ampm = this.container.find('.left .ampmselect').val();\n                        if (ampm === 'PM' && hour < 12)\n                            hour += 12;\n                        if (ampm === 'AM' && hour === 12)\n                            hour = 0;\n                    }\n                    var minute = parseInt(this.container.find('.left .minuteselect').val(), 10);\n                    var second = this.timePickerSeconds ? parseInt(this.container.find('.left .secondselect').val(), 10) : 0;\n                    date = date.clone().hour(hour).minute(minute).second(second);\n                }\n                this.endDate = null;\n                this.setStartDate(date.clone());\n            } else if (!this.endDate && date.isBefore(this.startDate)) {\n                //special case: clicking the same date for start/end,\n                //but the time of the end date is before the start date\n                this.setEndDate(this.startDate.clone());\n            } else { // picking end\n                if (this.timePicker) {\n                    var hour = parseInt(this.container.find('.right .hourselect').val(), 10);\n                    if (!this.timePicker24Hour) {\n                        var ampm = this.container.find('.right .ampmselect').val();\n                        if (ampm === 'PM' && hour < 12)\n                            hour += 12;\n                        if (ampm === 'AM' && hour === 12)\n                            hour = 0;\n                    }\n                    var minute = parseInt(this.container.find('.right .minuteselect').val(), 10);\n                    var second = this.timePickerSeconds ? parseInt(this.container.find('.right .secondselect').val(), 10) : 0;\n                    date = date.clone().hour(hour).minute(minute).second(second);\n                }\n                this.setEndDate(date.clone());\n                if (this.autoApply) {\n                  this.calculateChosenLabel();\n                  this.clickApply();\n                }\n            }\n\n            if (this.singleDatePicker) {\n                this.setEndDate(this.startDate);\n                if (!this.timePicker)\n                    this.clickApply();\n            }\n\n            this.updateView();\n\n            //This is to cancel the blur event handler if the mouse was in one of the inputs\n            e.stopPropagation();\n\n        },\n\n        calculateChosenLabel: function () {\n            var customRange = true;\n            var i = 0;\n            for (var range in this.ranges) {\n                if (this.timePicker) {\n                    if (this.startDate.isSame(this.ranges[range][0]) && this.endDate.isSame(this.ranges[range][1])) {\n                        customRange = false;\n                        this.chosenLabel = this.container.find('.ranges li:eq(' + i + ')').addClass('active').html();\n                        break;\n                    }\n                } else {\n                    //ignore times when comparing dates if time picker is not enabled\n                    if (this.startDate.format('YYYY-MM-DD') == this.ranges[range][0].format('YYYY-MM-DD') && this.endDate.format('YYYY-MM-DD') == this.ranges[range][1].format('YYYY-MM-DD')) {\n                        customRange = false;\n                        this.chosenLabel = this.container.find('.ranges li:eq(' + i + ')').addClass('active').html();\n                        break;\n                    }\n                }\n                i++;\n            }\n            if (customRange) {\n                if (this.showCustomRangeLabel) {\n                    this.chosenLabel = this.container.find('.ranges li:last').addClass('active').html();\n                } else {\n                    this.chosenLabel = null;\n                }\n                this.showCalendars();\n            }\n        },\n\n        clickApply: function(e) {\n            this.hide();\n            this.element.trigger('apply.daterangepicker', this);\n        },\n\n        clickCancel: function(e) {\n            this.startDate = this.oldStartDate;\n            this.endDate = this.oldEndDate;\n            this.hide();\n            this.element.trigger('cancel.daterangepicker', this);\n        },\n\n        monthOrYearChanged: function(e) {\n            var isLeft = $(e.target).closest('.calendar').hasClass('left'),\n                leftOrRight = isLeft ? 'left' : 'right',\n                cal = this.container.find('.calendar.'+leftOrRight);\n\n            // Month must be Number for new moment versions\n            var month = parseInt(cal.find('.monthselect').val(), 10);\n            var year = cal.find('.yearselect').val();\n\n            if (!isLeft) {\n                if (year < this.startDate.year() || (year == this.startDate.year() && month < this.startDate.month())) {\n                    month = this.startDate.month();\n                    year = this.startDate.year();\n                }\n            }\n\n            if (this.minDate) {\n                if (year < this.minDate.year() || (year == this.minDate.year() && month < this.minDate.month())) {\n                    month = this.minDate.month();\n                    year = this.minDate.year();\n                }\n            }\n\n            if (this.maxDate) {\n                if (year > this.maxDate.year() || (year == this.maxDate.year() && month > this.maxDate.month())) {\n                    month = this.maxDate.month();\n                    year = this.maxDate.year();\n                }\n            }\n\n            if (isLeft) {\n                this.leftCalendar.month.month(month).year(year);\n                if (this.linkedCalendars)\n                    this.rightCalendar.month = this.leftCalendar.month.clone().add(1, 'month');\n            } else {\n                this.rightCalendar.month.month(month).year(year);\n                if (this.linkedCalendars)\n                    this.leftCalendar.month = this.rightCalendar.month.clone().subtract(1, 'month');\n            }\n            this.updateCalendars();\n        },\n\n        timeChanged: function(e) {\n\n            var cal = $(e.target).closest('.calendar'),\n                isLeft = cal.hasClass('left');\n\n            var hour = parseInt(cal.find('.hourselect').val(), 10);\n            var minute = parseInt(cal.find('.minuteselect').val(), 10);\n            var second = this.timePickerSeconds ? parseInt(cal.find('.secondselect').val(), 10) : 0;\n\n            if (!this.timePicker24Hour) {\n                var ampm = cal.find('.ampmselect').val();\n                if (ampm === 'PM' && hour < 12)\n                    hour += 12;\n                if (ampm === 'AM' && hour === 12)\n                    hour = 0;\n            }\n\n            if (isLeft) {\n                var start = this.startDate.clone();\n                start.hour(hour);\n                start.minute(minute);\n                start.second(second);\n                this.setStartDate(start);\n                if (this.singleDatePicker) {\n                    this.endDate = this.startDate.clone();\n                } else if (this.endDate && this.endDate.format('YYYY-MM-DD') == start.format('YYYY-MM-DD') && this.endDate.isBefore(start)) {\n                    this.setEndDate(start.clone());\n                }\n            } else if (this.endDate) {\n                var end = this.endDate.clone();\n                end.hour(hour);\n                end.minute(minute);\n                end.second(second);\n                this.setEndDate(end);\n            }\n\n            //update the calendars so all clickable dates reflect the new time component\n            this.updateCalendars();\n\n            //update the form inputs above the calendars with the new time\n            this.updateFormInputs();\n\n            //re-render the time pickers because changing one selection can affect what's enabled in another\n            this.renderTimePicker('left');\n            this.renderTimePicker('right');\n\n        },\n\n        formInputsChanged: function(e) {\n            var isRight = $(e.target).closest('.calendar').hasClass('right');\n            var start = moment(this.container.find('input[name=\"daterangepicker_start\"]').val(), this.locale.format);\n            var end = moment(this.container.find('input[name=\"daterangepicker_end\"]').val(), this.locale.format);\n\n            if (start.isValid() && end.isValid()) {\n\n                if (isRight && end.isBefore(start))\n                    start = end.clone();\n\n                this.setStartDate(start);\n                this.setEndDate(end);\n\n                if (isRight) {\n                    this.container.find('input[name=\"daterangepicker_start\"]').val(this.startDate.format(this.locale.format));\n                } else {\n                    this.container.find('input[name=\"daterangepicker_end\"]').val(this.endDate.format(this.locale.format));\n                }\n\n            }\n\n            this.updateView();\n        },\n\n        formInputsFocused: function(e) {\n\n            // Highlight the focused input\n            this.container.find('input[name=\"daterangepicker_start\"], input[name=\"daterangepicker_end\"]').removeClass('active');\n            $(e.target).addClass('active');\n\n            // Set the state such that if the user goes back to using a mouse, \n            // the calendars are aware we're selecting the end of the range, not\n            // the start. This allows someone to edit the end of a date range without\n            // re-selecting the beginning, by clicking on the end date input then\n            // using the calendar.\n            var isRight = $(e.target).closest('.calendar').hasClass('right');\n            if (isRight) {\n                this.endDate = null;\n                this.setStartDate(this.startDate.clone());\n                this.updateView();\n            }\n\n        },\n\n        formInputsBlurred: function(e) {\n\n            // this function has one purpose right now: if you tab from the first\n            // text input to the second in the UI, the endDate is nulled so that\n            // you can click another, but if you tab out without clicking anything\n            // or changing the input value, the old endDate should be retained\n\n            if (!this.endDate) {\n                var val = this.container.find('input[name=\"daterangepicker_end\"]').val();\n                var end = moment(val, this.locale.format);\n                if (end.isValid()) {\n                    this.setEndDate(end);\n                    this.updateView();\n                }\n            }\n\n        },\n\n        elementChanged: function() {\n            if (!this.element.is('input')) return;\n            if (!this.element.val().length) return;\n            if (this.element.val().length < this.locale.format.length) return;\n\n            var dateString = this.element.val().split(this.locale.separator),\n                start = null,\n                end = null;\n\n            if (dateString.length === 2) {\n                start = moment(dateString[0], this.locale.format);\n                end = moment(dateString[1], this.locale.format);\n            }\n\n            if (this.singleDatePicker || start === null || end === null) {\n                start = moment(this.element.val(), this.locale.format);\n                end = start;\n            }\n\n            if (!start.isValid() || !end.isValid()) return;\n\n            this.setStartDate(start);\n            this.setEndDate(end);\n            this.updateView();\n        },\n\n        keydown: function(e) {\n            //hide on tab or enter\n            if ((e.keyCode === 9) || (e.keyCode === 13)) {\n                this.hide();\n            }\n        },\n\n        updateElement: function() {\n            if (this.element.is('input') && !this.singleDatePicker && this.autoUpdateInput) {\n                this.element.val(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format));\n                this.element.trigger('change');\n            } else if (this.element.is('input') && this.autoUpdateInput) {\n                this.element.val(this.startDate.format(this.locale.format));\n                this.element.trigger('change');\n            }\n        },\n\n        remove: function() {\n            this.container.remove();\n            this.element.off('.daterangepicker');\n            this.element.removeData();\n        }\n\n    };\n\n    $.fn.daterangepicker = function(options, callback) {\n        this.each(function() {\n            var el = $(this);\n            if (el.data('daterangepicker'))\n                el.data('daterangepicker').remove();\n            el.data('daterangepicker', new DateRangePicker(el, options, callback));\n        });\n        return this;\n    };\n\n    return DateRangePicker;\n\n}));\n"]}